/*! @userdive/agent 0.11.0-beta | Copyright (c) 2018 UNCOVER TRUTH Inc. | License GPL-3.0 */
!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=37)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=[];!function(e,t){for(var n=0;n<t;n++)r.push(e)}(2,300),t.CUSTOM_INDEX=20,t.INTERACT=5,t.INTERVAL=r.sort(),t.LISTENER=["addEventListener","removeEventListener"],t.NAMESPACE="data-ud-namespace",t.SCROLL=["pageXOffset","pageYOffset"],t.TOUCH=["ontouchstart","ontouchmove","ontouchend"],t.VERSION=1,t.SETTINGS={auto:!1,baseUrl:"https://v1.userdive.com",cookieName:"_ud",cookieDomain:"",cookieExpires:730,RAVEN_DSN:"",Raven:void 0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(4);t.getOffset=function(e){return{x:e.scrollX||e.pageXOffset,y:e.scrollY||e.pageYOffset}},t.getEnv=function(e){try{var t={h:(c=screen).height,w:c.width},n={h:(u=window).innerHeight,w:u.innerWidth},o=(s=document,{h:(a=s.body).clientHeight,w:a.clientWidth});return{v:r.VERSION,r:document.referrer,n:document.title,l:e,sh:t.h,sw:t.w,wh:n.h,ww:n.w,h:o.h,w:o.w}}catch(e){i.error(e)}var s,a,u,c},t.validate=function(e){for(var t=0;t<e.length;t++)if(!(e[t]in window))return!1;return!0}},function(e,t,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,s,a=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),u=1;u<arguments.length;u++){n=Object(arguments[u]);for(var c in n)i.call(n,c)&&(a[c]=n[c]);if(r){s=r(n);for(var f=0;f<s.length;f++)o.call(n,s[f])&&(a[s[f]]=n[s[f]])}}return a}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=n(1),o=n(0),s=n(4),a=function(){function e(e,t,n){this.name=e,this.emitter=t,this.observer=n}return e.prototype.on=function(e,t,n){if("function"!=typeof t||"a"!==n&&"l"!==n)return s.raise("please override on");this.validate()&&i.validate(o.LISTENER.concat(o.SCROLL))&&(this.observer.subscribe(window,e,function(e){try{t(e)}catch(e){s.error(e)}}),this.type=n)},e.prototype.off=function(){this.observer.unsubscribeAll()},e.prototype.error=function(e){s.error(e)},e.prototype.warning=function(e){s.warning(e)},e.prototype.validate=function(){return s.raise("please override validate"),!1},e.prototype.emit=function(e){if(!(e.x<0||e.y<0)&&this.type){var t=i.getOffset(window),n=t.x,o=t.y;this.emitter.emit(this.name,r({},e,{type:this.type,left:n,top:o}))}},e}();t.default=a},function(e,t,n){"use strict";var r;function i(e,t){if(r&&r.isSetup()){if("string"==typeof e)return void r.captureMessage(e,t);r.captureException(e,t)}}Object.defineProperty(t,"__esModule",{value:!0}),t.raise=function(e){throw new Error(e)},t.setup=function(e,t){e&&t&&((r=t).config(e).install(),r.setRelease("0.11.0-beta"))},t.error=function(e,t){i(e,{level:"error",extra:t})},t.warning=function(e,t){i(e,{level:"warning",extra:t})}},function(e,t,n){var r,i;!function(o){if(void 0===(i="function"==typeof(r=o)?r.call(t,n,t,e):r)||(e.exports=i),!0,e.exports=o(),!!0){var s=window.Cookies,a=window.Cookies=o();a.noConflict=function(){return window.Cookies=s,a}}}(function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}return function t(n){function r(t,i,o){var s;if("undefined"!=typeof document){if(arguments.length>1){if("number"==typeof(o=e({path:"/"},r.defaults,o)).expires){var a=new Date;a.setMilliseconds(a.getMilliseconds()+864e5*o.expires),o.expires=a}o.expires=o.expires?o.expires.toUTCString():"";try{s=JSON.stringify(i),/^[\{\[]/.test(s)&&(i=s)}catch(e){}i=n.write?n.write(i,t):encodeURIComponent(String(i)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=(t=(t=encodeURIComponent(String(t))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape);var u="";for(var c in o)o[c]&&(u+="; "+c,!0!==o[c]&&(u+="="+o[c]));return document.cookie=t+"="+i+u}t||(s={});for(var f=document.cookie?document.cookie.split("; "):[],l=/(%[0-9A-Z]{2})+/g,p=0;p<f.length;p++){var h=f[p].split("="),v=h.slice(1).join("=");this.json||'"'!==v.charAt(0)||(v=v.slice(1,-1));try{var d=h[0].replace(l,decodeURIComponent);if(v=n.read?n.read(v,d):n(v,d)||v.replace(l,decodeURIComponent),this.json)try{v=JSON.parse(v)}catch(e){}if(t===d){s=v;break}t||(s[d]=v)}catch(e){}}return s}}return r.set=r,r.get=function(e){return r.call(r,e)},r.getJSON=function(){return r.apply({json:!0},[].slice.call(arguments))},r.defaults={},r.remove=function(t,n){r(t,"",e(n,{expires:-1}))},r.withConverter=t,r}(function(){})})},function(e,t){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(e){return"function"==typeof e}function i(e){return"object"==typeof e&&null!==e}function o(e){return void 0===e}e.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,s,a,u,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var f=new Error('Uncaught, unspecified "error" event. ('+t+")");throw f.context=t,f}if(o(n=this._events[e]))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:a=Array.prototype.slice.call(arguments,1),n.apply(this,a)}else if(i(n))for(a=Array.prototype.slice.call(arguments,1),s=(c=n.slice()).length,u=0;u<s;u++)c[u].apply(this,a);return!0},n.prototype.addListener=function(e,t){var s;if(!r(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,r(t.listener)?t.listener:t),this._events[e]?i(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,i(this._events[e])&&!this._events[e].warned&&(s=o(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&s>0&&this._events[e].length>s&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){if(!r(t))throw TypeError("listener must be a function");var n=!1;function i(){this.removeListener(e,i),n||(n=!0,t.apply(this,arguments))}return i.listener=t,this.on(e,i),this},n.prototype.removeListener=function(e,t){var n,o,s,a;if(!r(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(s=(n=this._events[e]).length,o=-1,n===t||r(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(i(n)){for(a=s;a-- >0;)if(n[a]===t||n[a].listener&&n[a].listener===t){o=a;break}if(o<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(o,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(r(n=this._events[e]))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){return this._events&&this._events[e]?r(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(r(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);e.exports=function(){return n(r),r}}else{var i=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),i[t]=e>>>((3&t)<<3)&255;return i}}},function(e,t){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);e.exports=function(e,t){var r=t||0,i=n;return i[e[r++]]+i[e[r++]]+i[e[r++]]+i[e[r++]]+"-"+i[e[r++]]+i[e[r++]]+"-"+i[e[r++]]+i[e[r++]]+"-"+i[e[r++]]+i[e[r++]]+"-"+i[e[r++]]+i[e[r++]]+i[e[r++]]+i[e[r++]]+i[e[r++]]+i[e[r++]]}},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=n(1),o=n(0),s=n(11),a=n(23),u=n(24),c=n(25),f=n(26),l="plugins",p=function(){function e(e,t){this.plugins={},e&&t&&this.create(e,t)}return e.prototype.create=function(e,t){var n=this;return"string"==typeof t&&"auto"===t&&(t={auto:!0}),this.core=new s.default(e,[a.default,u.default,c.default,f.default],r({},o.SETTINGS,t)),i.validate(o.LISTENER.concat(["onpagehide"]))&&window.addEventListener("pagehide",function(){n.core.destroy(!0)},!1),this.core},e.prototype.send=function(e,t){return this.core.send(e,t||location.href),this.core},e.prototype.set=function(e,t){return e&&t?this.core.set(e,t):this.core.mergeDeep(e)},e.prototype.provide=function(e,t){this[l][e]=t},e.prototype.require=function(e,t){if(this[l][e]){var n=t||{};return this[l][e]=new this[l][e](this,n),!0}return!1},e.prototype.run=function(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];(n=this.plugins[e])[t].apply(n,r)},e}();t.default=p},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(12),s=n(6),a=n(5),u=n(2),c=n(13),f=n(18),l=n(1),p=n(0),h=n(4),v=n(21);function d(){return f.v4().replace(/-/g,"")}function y(e){var t=e.x,n=e.y,r=e.type,i=e.left,o=e.top;return!!(t>0&&n>0&&r&&i>=0&&o>=0)}function _(e){return Math.floor(e)}var g=function(e){function t(t,n,r){var i=r.RAVEN_DSN,u=r.Raven,f=r.baseUrl,l=r.cookieDomain,p=r.cookieExpires,v=r.cookieName,y=r.auto,_=e.call(this)||this;h.setup(i,u),_.id=d(),_.clear(),_.events=[],_.interacts=[],_.interval=[],_.interactId=0,_.emitter=new s.EventEmitter;var g,m,b,w,O,E=new c.UIEventObserver;return n.forEach(function(e){_.events.push(new e(_.id,_.emitter,E))}),y?(w=v,O={expires:p},g=o.find(w)||o.save(w,d(),O)):(m=v,b={domain:l,expires:p},g=a.get(m)||(a.set(m,d(),b),a.get(m))),t&&g&&(_.baseUrl=f+"/"+t+"/"+g),_}return i(t,e),t.prototype.send=function(e,t){var n,r=this;switch(e){case"pageview":this.destroy(!1);var i=l.getEnv((/^http/.test(n=t)||(n=location.protocol+"//"+location.host+n),n));if(!i||!this.baseUrl)return h.warning("failed init");var o=this.merge({type:"env",data:i});this.interval=p.INTERVAL.concat(),this.interactId=0;var s=u({},o.env,o.custom);this.loadTime=Date.now(),v.get(this.baseUrl+"/"+this.loadTime+"/env.gif",v.obj2query(s),function(){r.active=!0,r.listen()},function(){r.active=!1})}},t.prototype.destroy=function(e){this.sendInteracts(e),this.emitter.removeAllListeners(this.id),this.events.forEach(function(e){e.off()}),this.active=!1,this.loadTime=0},t.prototype.listen=function(){if(!this.active||!this.loadTime)return h.raise("need send pageview");this.emitter.on(this.id,this.updateInteractCache.bind(this)),this.events.forEach(function(e){e.on()}),this.sendInteractsWithUpdate()},t.prototype.sendInteractsWithUpdate=function(){var e=this;if(Object.keys(this.cache).forEach(function(t){var n=e.cache[t];y(n)&&e.interacts.push(u({},n,{id:e.interactId}))}),this.clear(),this.sendInteracts(),this.active){var t=this.interval.shift();void 0!==t&&t>=0&&setTimeout(this.sendInteractsWithUpdate.bind(this),1e3*t),this.interactId++}},t.prototype.updateInteractCache=function(e){y(e)&&this.active&&(this.cache[e.type]=e)},t.prototype.sendInteracts=function(e){var t=this,n=[];if(this.interacts.forEach(function(e){var t,r=y(t=e)?t.type+","+t.id+","+_(t.x)+","+_(t.y)+","+_(t.left)+","+_(t.top):"";r.length&&n.push("d="+r)}),this.baseUrl&&(n.length>=p.INTERACT||e)){var r=this.get("custom");v.get(this.baseUrl+"/"+this.loadTime+"/int.gif",n.concat(v.obj2query(r)),function(){},function(){t.active=!1}),this.interacts.length=0}},t.prototype.clear=function(){this.cache={a:{},l:{}}},t}(n(22).default);t.default=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5);function i(e,t,n){var i=r.get(e);if(i)return i;var o,s=(o=""+location.hostname,0===o.indexOf("www.")?o.substring(4):o).split("."),a=s[s.length-1];return 4===s.length&&parseInt(a,10)==a?r.get(e):(t&&function(e,t,n,i){for(var o=e[e.length-1],s=n,a=2;a<=e.length;a++)if(o=e[e.length-a]+"."+o,s.domain=o,r.set(t,i,s),r.get(t))return o;r.set(t,i,n),r.get(t)}(s,e,n||{},t),r.get(e))}t.find=function(e){return i(e)},t.save=function(e,t,n){return i(e,t,n)}},function(e,t,n){"use strict";var r,i=n(14),o=(r=i)&&r.__esModule?r:{default:r};e.exports=new o.default,e.exports.UIEventObserver=o.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=s(n(15)),o=s(n(16));function s(e){return e&&e.__esModule?e:{default:e}}var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._eventTargetMap=new o.default,this._eventHandlerMap=new o.default}return r(e,[{key:"subscribe",value:function(e,t,n){var r=this,i=this._eventTargetMap.get([t,e]);if(!i){i=this._createEventEmitter(i),this._eventTargetMap.set([t,e],i);var o=function(e){i.emit(e)};this._eventHandlerMap.set([t,e],o),e.addEventListener(t,o)}return i.on(n),function(){r.unsubscribe(e,t,n)}}},{key:"subscribeOnce",value:function(e,t,n){var r=this;return this.subscribe(e,t,function i(o){n(o),r.unsubscribe(e,t,i)})}},{key:"unsubscribe",value:function(e,t,n){var r=this._eventTargetMap.get([t,e]);r&&(r.removeListener(n),e.removeEventListener(t,n),this._eventHandlerMap.delete([t,e]))}},{key:"unsubscribeAll",value:function(){var e=this;this._eventTargetMap.forEach(function(t,n){var r=e._eventHandlerMap.get([n,t]);r&&e.unsubscribe(t,n,r)})}},{key:"hasSubscriber",value:function(e,t){return this._eventHandlerMap.has([t,e])}},{key:"_createEventEmitter",value:function(e){return new i.default(e)}}]),e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(r):void 0};var o=n(6),s=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.eventName=e,n.setMaxListeners(0),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o),r(t,[{key:"on",value:function(e){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"on",this).call(this,this.eventName,e)}},{key:"emit",value:function(e){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"emit",this).call(this,this.eventName,e)}},{key:"removeListener",value:function(e){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"removeListener",this).call(this,this.eventName,e)}}]),t}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&a.return&&a.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=n(17).MapLike,s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._eventMap=new o}return i(e,[{key:"set",value:function(e,t){var n=r(e,2),i=n[0],o=n[1];this._getTargetMap(i).set(o,t)}},{key:"get",value:function(e){var t=r(e,2),n=t[0],i=t[1];return this._getTargetMap(n).get(i)}},{key:"has",value:function(e){var t=r(e,2),n=t[0],i=t[1];return this._getTargetMap(n).has(i)}},{key:"forEach",value:function(e){this._eventMap.forEach(function(t,n){t.forEach(function(t,r){e(r,n)})})}},{key:"delete",value:function(e){var t=r(e,2),n=t[0],i=t[1],o=this._getTargetMap(n);o&&o.delete(i)}},{key:"_getTargetMap",value:function(e){var t=this._eventMap.get(e);return t||(t=new o,this._eventMap.set(e,t)),t}}]),e}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i={};function o(e){return"number"==typeof e&&e!=e?i:e}function s(e){return e===i?NaN:e}t.MapLike=function(){function e(){var t=this,n=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._keys=[],this._values=[],n.forEach(function(e){if(!Array.isArray(e))throw new Error("should be `new MapLike([ [key, value] ])`");if(2!==e.length)throw new Error("should be `new MapLike([ [key, value] ])`");t.set(e[0],e[1])})}return r(e,[{key:"entries",value:function(){var e=this;return this.keys().map(function(t){var n=e.get(t);return[s(t),n]})}},{key:"keys",value:function(){return this._keys.filter(function(e){return void 0!==e}).map(s)}},{key:"values",value:function(){return this._values.slice()}},{key:"get",value:function(e){var t=this._keys.indexOf(o(e));return-1!==t?this._values[t]:void 0}},{key:"has",value:function(e){return-1!==this._keys.indexOf(o(e))}},{key:"set",value:function(e,t){var n=this._keys.indexOf(o(e));return-1!==n?this._values[n]=t:(this._keys.push(o(e)),this._values.push(t)),this}},{key:"delete",value:function(e){var t=this._keys.indexOf(o(e));return-1!==t&&(this._keys.splice(t,1),this._values.splice(t,1),!0)}},{key:"clear",value:function(){return this._keys=[],this._values=[],this}},{key:"forEach",value:function(e,t){var n=this;this.keys().forEach(function(r){e(n.get(r),r,t||n)})}},{key:"size",get:function(){return this._values.filter(function(e){return void 0!==e}).length}}]),e}()},function(e,t,n){var r=n(19),i=n(20),o=i;o.v1=r,o.v4=i,e.exports=o},function(e,t,n){var r,i,o=n(7),s=n(8),a=0,u=0;e.exports=function(e,t,n){var c=t&&n||0,f=t||[],l=(e=e||{}).node||r,p=void 0!==e.clockseq?e.clockseq:i;if(null==l||null==p){var h=o();null==l&&(l=r=[1|h[0],h[1],h[2],h[3],h[4],h[5]]),null==p&&(p=i=16383&(h[6]<<8|h[7]))}var v=void 0!==e.msecs?e.msecs:(new Date).getTime(),d=void 0!==e.nsecs?e.nsecs:u+1,y=v-a+(d-u)/1e4;if(y<0&&void 0===e.clockseq&&(p=p+1&16383),(y<0||v>a)&&void 0===e.nsecs&&(d=0),d>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");a=v,u=d,i=p;var _=(1e4*(268435455&(v+=122192928e5))+d)%4294967296;f[c++]=_>>>24&255,f[c++]=_>>>16&255,f[c++]=_>>>8&255,f[c++]=255&_;var g=v/4294967296*1e4&268435455;f[c++]=g>>>8&255,f[c++]=255&g,f[c++]=g>>>24&15|16,f[c++]=g>>>16&255,f[c++]=p>>>8|128,f[c++]=255&p;for(var m=0;m<6;++m)f[c+m]=l[m];return t||s(f)}},function(e,t,n){var r=n(7),i=n(8);e.exports=function(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var s=(e=e||{}).random||(e.rng||r)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t)for(var a=0;a<16;++a)t[o+a]=s[a];return t||i(s)}},function(e,t,n){"use strict";function r(){var e=window,t=e.navigator.doNotTrack||e.doNotTrack;return"1"!==t&&"yes"!==t}Object.defineProperty(t,"__esModule",{value:!0}),t.enable=r,t.get=function(e,t,n,i){if(r()&&t.length>0){var o=document.createElement("img");o.onload=n,o.onerror=i,o.src=e+"?"+t.join("&")}},t.obj2query=function(e){var t=[];return Object.keys(e).forEach(function(n){e[n]&&t.push(n+"="+encodeURIComponent(e[n]))}),t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=n(0);function o(e,t){var n={},r=e.split("dimension");return r.length>1&&parseInt(r[1],10)<=i.CUSTOM_INDEX&&(n["cd"+r[1]]=t),(r=e.split("metric")).length>1&&"number"==typeof t&&parseInt(r[1],10)<=i.CUSTOM_INDEX&&(n["cm"+r[1]]=t),n}function s(){return{env:{v:i.VERSION,l:"",r:"",n:"",h:0,w:0,sh:0,sw:0,wh:0,ww:0},custom:{}}}var a=function(){function e(){this.reset()}return e.prototype.reset=function(){this.state=s()},e.prototype.get=function(e){return this.state[e]},e.prototype.set=function(e,t){switch(e){case"page":var n=t;this.state.env.l=n;break;default:this.state.custom=r({},this.state.custom,o(e,t))}return this.state},e.prototype.merge=function(e){var t=s();return this.state[e.type]=r({},t[e.type],this.state[e.type],e.data),this.state},e.prototype.mergeDeep=function(e){e.page&&(this.state.env.l=e.page,delete e.page);var t={};return Object.keys(e).forEach(function(n){t=r({},t,o(n,e[n]))}),this.merge({type:"custom",data:t})},e}();t.default=a},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.on=function(){var t=this;e.prototype.on.call(this,"click",function(e){t.emit({x:e.pageX,y:e.pageY})},"a")},t.prototype.validate=function(){var e=o.validate(["onclick"]);return e||this.warning("disable click"),e},t}(n(3).default);t.default=s},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.on=function(){var t=this;e.prototype.on.call(this,"mousemove",function(e){t.emit({x:e.pageX,y:e.pageY})},"l")},t.prototype.validate=function(){var e=o.validate(["onmousemove"]);return e||this.warning("disable mousemove"),e},t}(n(3).default);t.default=s},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),s=n(0);var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.on=function(){var t=this;e.prototype.on.call(this,"scroll",function(){var e,n,r,i;t.emit((e=window,n=o.getOffset(e),r=n.x,i=n.y,{x:r+e.innerWidth/2,y:i+e.innerHeight/2}))},"l")},t.prototype.validate=function(){return o.validate(s.SCROLL.concat(["innerWidth","innerHeight"]).concat(s.TOUCH))},t}(n(3).default);t.default=a},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),s=n(0);function a(e){return e.changedTouches?e.changedTouches[0]:e.touches[0]}var u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.on=function(){var t=this;e.prototype.on.call(this,"touchstart",function(e){t.start=a(e),t.emit({x:t.start.pageX,y:t.start.pageY})},"l"),e.prototype.on.call(this,"touchmove",function(e){var n=a(e);t.emit({x:n.pageX,y:n.pageY})},"l"),e.prototype.on.call(this,"touchend",function(e){var n=a(e);if(!t.start)return t.warning("start is not defined");Math.abs(t.start.pageX-n.pageX)<10&&Math.abs(t.start.pageY-n.pageY)<10&&t.emit({x:n.pageX,y:n.pageY})},"a")},t.prototype.validate=function(){return o.validate(s.TOUCH)},t}(n(3).default);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(28);t.default=function(e){var t=new i.default(e);function n(){return t.run(arguments)}!function(e){var i=document.querySelector("["+r.NAMESPACE+"]").getAttribute(r.NAMESPACE);if(e[i]&&e[i].q){for(var o=e[i].q,s=0;s<o.length;s++)t.run(o[s]);e[i]=n}}(window)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="commandQueue",i="agents",o=function(){function e(e){this.createAgent=function(){return new e},this.commandQueue=[],this.agents={}}return e.prototype.run=function(e){var t=this.parse(e);for(t=this.commandQueue.concat(t),this[r]=[];t.length>0&&this.execute(t[0]);)t.shift();return this[r]=this[r].concat(t),this},e.prototype.parse=function(e){var t=[],n=[];n.push.apply(n,e);var r,o=n.shift().split("."),s=2===o.length?o[1]:"default";if(this[i][s]||(this[i][s]=this.createAgent()),"provide"!==o[0])t.push({name:s,method:o[0],args:n});else{var a=Object.keys(this[i])[0];(r=this[i][a])[o[0]].apply(r,n)}return t},e.prototype.execute=function(e){var t=this.agents[e.name];return"require"===e.method?t.require.apply(t,e.args):(t[e.method].apply(t,e.args),!0)},e}();t.default=o},,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(10);n(27).default(r.default)}]);
//# sourceMappingURL=agent.js.map